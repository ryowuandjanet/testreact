<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>demo</title>
</head>
<body>

	<div id="example1"></div>

	<script type="text/javascript" src="../js/react.development.js"></script>
	<script type="text/javascript" src="../js/react-dom.development.js"></script>
	<script type="text/javascript" src="../js/babel.min.js"></script>

	<script type="text/babel">
		/*
		需求：自定義包含表單的組件，功能說明如下
		  1.界面如下所示
		  2.輸入用戶名密碼後，點擊登入提示輸入信息
		  3.不提交表單
		*/

		// 1.定義組件
		class LoginForm extends React.Component{
			constructor(props){
				super(props)
				this.state={
					pwd: ''
				}
				this.handleSubmit=this.handleSubmit.bind(this)
				this.handleChange=this.handleChange.bind(this)
			}
			handleSubmit(event){
				const name=this.nameInput.value
				const {pwd} = this.state
				alert(`準備提交的用戶名為${name}，密碼為${pwd}`)
			
				// 阻止事件的默認行為(提交)
				event.preventDefault()
			}

			handleChange(event){
				// 1.讀取輸入的值
				const pwd=event.target.value
				// 2.更新 pwd 的狀態
				this.setState({pwd})
			}

			render(){
				return (
					<form action="/test" onSubmit={this.handleSubmit }>
						帳號：<input type="text" ref={input => this.nameInput = input }/>
						密碼：<input type="password" value={this.state.pwd} onChange={this.handleChange}/>
						<input type="submit" value="登入"/>
					</form>
				)
			}
		}

		// 2.渲染組件標籤
		ReactDOM.render(<LoginForm />,document.getElementById('example1'))
	</script>

</body>
</html>